# DEPS: NILM Dataset
Este repositorio es parte del Trabajo Final de Máster: "Desagregación de la demanda usando Non-Intrusive Load Monitoring Toolkit (NILMTK)” conducente al grado de Máster en Sistemas Inteligentes de Energía y Transporte de [Andrés Arias Silva](https://www.linkedin.com/in/ariassilva/). El proyecto cuenta con la colaboración de los docentes Dr. Enrique Personal y D. Antonio Parejo de la Universidad de Sevilla.

El objetivo de este trabajo es mostrar el uso y potenciales aplicaciones de la herramienta de desagregación de la demanda Non-Intrusive Load Monitoring Toolkit ([NILMTK](http://nilmtk.github.io/)) a través de la implementación de un caso real que involucra la creación de un dataset de uso público con datos de energía del Aula 2.2 Bis de la Escuela Politécnica Superior de la Universidad de Sevilla.

El dataset denominado **DEPS (Dataset de la Escuela Politécnica Superior)** se encuentra en formato HDF5 y puede ser descargado en el [siguiente enlace](https://uses0-my.sharepoint.com/:u:/g/personal/andarisil_alum_us_es/EdPESThCSWVBndyDSF3mZK0BuD5ggBxm8_pmoegA4MUgUg?e=G85wsj) usando la contraseña `deps2020`. Adicionalmente, se proporciona un convertidor para ser utilizado en NILMTK en caso de ser requerido el cual se encuentra en este repositorio.

## NILM

La desagregación de la demanda, también conocida como Non-Intrusive Load Monitoring (NILM), se define como una técnica computacional para estimar el consumo individual de energía eléctrica de diversos dispositivos utilizando la lectura agregada de un solo medidor [[1]](https://ieeexplore.ieee.org/document/192069?section=abstract)[[2]](https://spiral.imperial.ac.uk/handle/10044/1/49452).  Este concepto ha tomado relevancia entre los investigadores en la última década tal como lo indica este [análisis](https://github.com/AriasSilva/DEPS_NILM_Dataset/blob/master/notebooks/Publicaciones/Publicaciones.ipynb) de publicaciones NILM:

Dentro de sus beneficios se destacan los siguientes:

- Información detallada de la factura eléctrica
- Aplicaciones de respuesta a la demanda o *demand response* (DR) 
- Identificación de averías y consumo ilegal de energía

En la siguiente figura se muestra un ejemplo de desagregación de la demanda usando el dataset [REDD](http://redd.csail.mit.edu/):

![nilm](/imagenes/nilm.svg)

## NILMTK

NILMTK es un kit de herramientas de código abierto diseñado específicamente para permitir un acceso fácil y brindar un análisis comparativo de algoritmos de desagregación de demanda en diversos datasets. NILMTK proporciona un *pipeline* completo, intérpretes de diversos datasets y métricas de precisión, lo que reduce la barrera de entrada para investigadores y desarrolladores. La siguiente figura muestra el *pipeline* de NILMTK:

![pipeline](/imagenes/pipeline.svg)

Se recomienda instalar NILMTK bajo un *enviroment* de paquetes de Python, específicamente [Anaconda](https://www.anaconda.com/distribution/). Una guía de instalación de NILMTK en Windows se encuentra en el [siguiente enlace](https://github.com/nilmtk/nilmtk/blob/master/docs/manual/user_guide/install_user.md). 

Adicionalmente, toda la información sobre NILMTK se encuentra en [nilmtk.github.io](http://nilmtk.github.io/).

## Nuevo Dataset DEPS

Dentro de las instalaciones de la Escuela Politécnica Superior de la Universidad de Sevilla se encuentra el Aula 2.2 Bis, la cual está equipada con un cuadro eléctrico con diversos medidores. Estos medidores registran el consumo agregado y consumos individuales de determinados dispositivos del aula. Gracias a esto, se han registrado datos de consumo y se han almacenado junto con sus metadatos en un dataset que considera las siguientes fechas:

- Desde el lunes 24/02/2020 a las 00:00:00 hrs. al jueves 27/02/2020 a las 23:59:59 hrs.
- Desde el lunes 02/03/2020 a las 00:00:00 hrs. al viernes 06/03/2020 a las 23:59:59 hrs.

### Adquisición de datos

DEPS contiene datos agregados y metadatos de un sistema trifásico (R, S ,T) de seis dispositivos de consumo, conectados a diferentes fases. La siguiente tabla resume las medidas registradas en el dataset.

| Medidor                              | Medidas Registradas | Periodo de Muestreo |
| ------------------------------------ | ------------------- | ------------------- |
| 1x Medidor principal trifásico (RST) | P, Q                | 1 segundo           |
| 3 x Medidores de fase (R, S y T)     | P, Q, V, I          | 1 segundo           |
| 6 x Medidores de Dispositivos        | P, Q, V, I          | 1 segundo           |

El medidor principal (Main_RST) mide la potencia P y Q agregada, también opera como medidor por fase (Main_R, Main_S y Main_T) permitiendo registrar P, Q, V e I para cada una de ellas. En cuanto a los dispositivos, se cuenta con mediciones de P de dos grupos de iluminación (Lights_1 y Lights_2), mediciones de P, Q, V e I para tres equipos de aire acondicionado (HVAC_1, HVAC_2 y HVAC_4) y un rack de equipos informáticos (Rack). 

En la siguiente figura se muestra un esquema unilineal eléctrico de los medidores.

![circuito](/imagenes/circuito.svg)

### Convertidor NILMTK

Para la creación de un dataset compatible con NILMTK es necesario contar con un convertidor que estructure los datos y sus metadatos en el formato HDF5. En el presente trabajo se utiliza como referencia el convertidor REDD previamente desarrollado, incorporándole modificaciones para que los datos extraídos desde el Aula 2.2 Bis sean compatibles.

- El convertidor y los metadatos se pueden [descargar desde este enlace](https://downgit.github.io/#/home?url=https://github.com/AndresAriasSilva/DEPS_NILM_Dataset/tree/master/nilmtk_converter/deps).
- Para su mejor comprensión, se ha elaborado una [guía de implementación y uso del convertidor](https://github.com/AriasSilva/DEPS_NILM_Dataset/tree/master/nilmtk_converter)

### Análisis y modelos de desagregación 

Con la ayuda de las diversas funciones de NILMTK se analizan datos y metadatos del dataset DEPS. En los siguientes notebooks se presentan diversos análisis y preprocesamiento necesario para posteriormente generar y comparar diversos modelos de desagregación usando varios periodos y métodos de muestreo basados en los algoritmos CO (*Combinatorial Optimisation*) y FHMM (*Factorial Hidden Markov Models*):

- [Análisis - NILMTK-DF](https://github.com/AriasSilva/DEPS_NILM_Dataset/blob/master/notebooks/1.An%C3%A1lisis%20-%20NILMTK-DF.ipynb)
- [Análisis - Diagnóstico y Estadísticas](https://github.com/AriasSilva/DEPS_NILM_Dataset/blob/master/notebooks/2.An%C3%A1lisis%20-%20Diagn%C3%B3stico%20y%20Estad%C3%ADsticas.ipynb)
- [Preprocesamiento](https://github.com/AriasSilva/DEPS_NILM_Dataset/blob/master/notebooks/3.Preprocesamiento.ipynb)
- [Entrenamiento](/https://github.com/AriasSilva/DEPS_NILM_Dataset/blob/master/notebooks/4.Entrenamiento.ipynb)
- [Validación](https://github.com/AriasSilva/DEPS_NILM_Dataset/blob/master/notebooks/5.Validaci%C3%B3n.ipynb)
- [Desagregación](https://github.com/AriasSilva/DEPS_NILM_Dataset/blob/master/notebooks/6.Desagregaci%C3%B3n.ipynb)

Los resultados de los análisis de los diferentes modelos muestran, bajo diferentes métricas, que el rendimiento del modelo FHMM entrenado con datos de la mediana de la potencia activa con un periodo de 30 minutos posee un buen desempeño para su implementación. En la siguiente imagen se muestra un extracto de los análisis a las métricas obtenidas de los diferentes modelos implementados.

![F1](/imagenes/FEAC.svg)

### Reporte de desagregación

Utilizando el modelo con el mejor desempeño en el dataset DEPS, **se ha implementado un código para generar un reporte interactivo básico en HTML** de los resultados de la desagregación. 

A continuación se muestra una captura de pantalla del reporte, el cual puede ser consultado en el [siguiente enlace](https://ariassilva.github.io/DEPS_NILM_Dataset/reporte/report.html) y cuyo código escrito en Python se encuentra [acá](/reporte/create_report.py).

[![reporte](/imagenes/reporte.png)](https://andresariassilva.github.io/DEPS_NILM_Dataset/reporte/report.html)



<div class="svg-container" style="position: relative; width: 900px; height: 450px;"><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="900" height="450" style="background: white;"><defs id="defs-e59815"><g class="clips"></g><g class="gradients"></g></defs><g class="bglayer"></g><g class="draglayer"></g><g class="layer-below"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="cartesianlayer"></g><g class="polarlayer"></g><g class="ternarylayer"></g><g class="geolayer"></g><g class="funnelarealayer"></g><g class="pielayer"><g class="trace" stroke-linejoin="round" style="opacity: 1;"><g class="slice"><path class="surface" d="M276.4435336507264,243.4036772526234a40.5,40.5 0 0 0 -39.6185336507264,-48.9036772526234l0,-94.5a135,135 0 0 1 132.06177883575467,163.01225750874468Z" style="pointer-events: all; stroke-width: 0; fill: rgb(99, 110, 250); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(305.0078831799481,176.77737129127172)" text-anchor="middle" data-unformatted="Lights_1<br>28.3%" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(255, 255, 255); fill-opacity: 1; white-space: pre;"><tspan class="line" dy="0em" x="0" y="0">Lights_1</tspan><tspan class="line" dy="1.3em" x="0" y="0">28.3%</tspan></text></g></g><g class="slice"><path class="surface" d="M236.82500000000002,194.5a40.5,40.5 0 0 0 -36.318612392291165,22.577712369830834l-84.74342891534604,-41.818671137061386a135,135 0 0 1 121.06204130763722,-75.25904123276945Z" style="pointer-events: all; stroke-width: 0; fill: rgb(239, 85, 59); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(190.17834670632882,156.97862862825934)" text-anchor="middle" data-unformatted="Lights_2<br>17.7%" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;"><tspan class="line" dy="0em" x="0" y="0">Lights_2</tspan><tspan class="line" dy="1.3em" x="0" y="0">17.7%</tspan></text></g></g><g class="slice"><path class="surface" d="M200.50638760770886,217.07771236983083a40.5,40.5 0 0 0 2.96180118416635,40.89124812091665l-77.83255948562456,53.594241145077454a135,135 0 0 1 -9.872670613887834,-136.3041604030555Z" style="pointer-events: all; stroke-width: 0; fill: rgb(0, 204, 150); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(147.4267076979737,238.48986041646558)" text-anchor="middle" data-unformatted="HVAC_1<br>16.9%" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;"><tspan class="line" dy="0em" x="0" y="0">HVAC_1</tspan><tspan class="line" dy="1.3em" x="0" y="0">16.9%</tspan></text></g></g><g class="slice"><path class="surface" d="M203.4681887918752,257.96896049074746a40.5,40.5 0 0 0 28.950501771579646,17.290627648594093l-10.281388685272056,93.939038991797a135,135 0 0 1 -96.50167257193216,-57.63542549531364Z" style="pointer-events: all; stroke-width: 0; fill: rgb(171, 99, 250); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(187.9496859518669,313.84861546189626)" text-anchor="middle" data-unformatted="HVAC_2<br>13.7%" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;"><tspan class="line" dy="0em" x="0" y="0">HVAC_2</tspan><tspan class="line" dy="1.3em" x="0" y="0">13.7%</tspan></text></g></g><g class="slice"><path class="surface" d="M232.41869056345485,275.2595881393416a40.5,40.5 0 0 0 11.390251584664197,-0.3662985774149177l16.29586501227774,93.08434231116219a135,135 0 0 1 -37.96750528221399,1.2209952580497259Z" style="pointer-events: all; stroke-width: 0; fill: rgb(255, 161, 90); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(272.92984104969764,381.77330862823715)" text-anchor="middle" data-unformatted="HVAC_4<br>4.49%" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;"><tspan class="line" dy="0em" x="0" y="0">HVAC_4</tspan><tspan class="line" dy="1.3em" x="0" y="0">4.49%</tspan></text></g></g><g class="slice"><path class="surface" d="M243.80894214811906,274.8932895619267a40.5,40.5 0 0 0 32.634591502607364,-31.489612309303276l92.44324518502826,19.60858025612121a135,135 0 0 1 -108.7819716753579,104.96537436434426Z" style="pointer-events: all; stroke-width: 0; fill: rgb(25, 211, 243); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(297.7559874793988,295.16112032556146)" text-anchor="middle" data-unformatted="Rack<br>18.9%" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;"><tspan class="line" dy="0em" x="0" y="0">Rack</tspan><tspan class="line" dy="1.3em" x="0" y="0">18.9%</tspan></text></g></g></g><g class="trace" stroke-linejoin="round" style="opacity: 1;"><g class="slice"><path class="surface" d="M659.7871032622824,243.43393592211152a40.5,40.5 0 0 0 -39.61210326228231,-48.9339359221115l0,-94.5a135,135 0 0 1 132.04034420760772,163.11311974037167Z" style="pointer-events: all; stroke-width: 0; fill: rgb(99, 110, 250); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(688.3781420589596,184.6003627385459)" text-anchor="middle" data-unformatted="8.7 kWh" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(255, 255, 255); fill-opacity: 1; white-space: pre;">8.7 kWh</text></g></g><g class="slice"><path class="surface" d="M620.1750000000001,194.5a40.5,40.5 0 0 0 -36.18867679415307,22.316774986589238l-84.44024585302382,-42.42752503129177a135,135 0 0 1 120.6289226471769,-74.38924995529746Z" style="pointer-events: all; stroke-width: 0; fill: rgb(239, 85, 59); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(573.7047980356651,164.4572955115408)" text-anchor="middle" data-unformatted="5.4 kWh" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;">5.4 kWh</text></g></g><g class="slice"><path class="surface" d="M583.986323205847,216.81677498658925a40.5,40.5 0 0 0 2.731566117422646,41.00583978834422l-78.06659157903765,53.25276780817807a135,135 0 0 1 -9.105220391408821,-136.68613262781406Z" style="pointer-events: all; stroke-width: 0; fill: rgb(0, 204, 150); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(530.8120704438935,245.76436887407678)" text-anchor="middle" data-unformatted="5.2 kWh" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;">5.2 kWh</text></g></g><g class="slice"><path class="surface" d="M586.7178893232697,257.82261477493347a40.5,40.5 0 0 0 28.907841172977893,17.421069785283276l-10.614962175422574,93.90193064050571a135,135 0 0 1 -96.35947057659298,-58.07023261761093Z" style="pointer-events: all; stroke-width: 0; fill: rgb(171, 99, 250); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(570.9879026562146,321.4293560186156)" text-anchor="middle" data-unformatted="4.2 kWh" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;">4.2 kWh</text></g></g><g class="slice"><path class="surface" d="M615.6257304962476,275.2436845602167a40.5,40.5 0 0 0 11.55934465907365,-0.3549788113866583l16.35684202908261,93.07364674727017a135,135 0 0 1 -38.531148863578835,1.1832627046221944Z" style="pointer-events: all; stroke-width: 0; fill: rgb(255, 161, 90); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(618.4498231195125,335.57838520666303)rotate(88.24104234527681)" text-anchor="middle" data-unformatted="1.4 kWh" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;">1.4 kWh</text></g></g><g class="slice"><path class="surface" d="M627.1850751553212,274.8887057488301a40.5,40.5 0 0 0 32.60202810696119,-31.45476982671859l92.4282409453254,19.67918381826014a135,135 0 0 1 -108.67342702320398,104.84923275572864Z" style="pointer-events: all; stroke-width: 0; fill: rgb(25, 211, 243); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path><g class="slicetext"><text data-notex="1" class="slicetext" transform="translate(681.1017237132845,302.96137984681593)" text-anchor="middle" data-unformatted="5.8 kWh" data-math="N" x="0" y="0" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(68, 68, 68); fill-opacity: 1; white-space: pre;">5.8 kWh</text></g></g></g></g><g class="treemaplayer"></g><g class="sunburstlayer"></g><g class="glimages"></g></svg><div class="gl-container"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="900" height="450"><defs id="topdefs-e59815"><g class="clips"></g><clipPath id="legende59815"><rect width="97" height="124" x="0" y="0"></rect></clipPath></defs><g class="indicatorlayer"></g><g class="layer-above"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="infolayer"><g class="legend" pointer-events="all" transform="translate(790.94, 100)"><rect class="bg" shape-rendering="crispEdges" style="stroke: rgb(68, 68, 68); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1; stroke-width: 0px;" width="97" height="124" x="0" y="0"></rect><g class="scrollbox" transform="translate(0, 0)" clip-path="url('#legende59815')"><g class="groups"><g class="traces" transform="translate(0, 14.5)" style="opacity: 1;"><text class="legendtext user-select-none" text-anchor="start" x="40" y="4.680000000000001" data-unformatted="Lights_1" data-math="N" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">Lights_1</text><g class="layers" style="opacity: 1;"><g class="legendfill"></g><g class="legendlines"></g><g class="legendsymbols"><g class="legendpoints"><path class="legendpie" d="M6,6H-6V-6H6Z" transform="translate(20,0)" style="stroke-width: 0; fill: rgb(99, 110, 250); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path></g></g></g><rect class="legendtoggle" pointer-events="all" x="0" y="-9.5" width="91.25000381469727" height="19" style="cursor: pointer; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect></g><g class="traces" transform="translate(0, 33.5)" style="opacity: 1;"><text class="legendtext user-select-none" text-anchor="start" x="40" y="4.680000000000001" data-unformatted="Lights_2" data-math="N" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">Lights_2</text><g class="layers" style="opacity: 1;"><g class="legendfill"></g><g class="legendlines"></g><g class="legendsymbols"><g class="legendpoints"><path class="legendpie" d="M6,6H-6V-6H6Z" transform="translate(20,0)" style="stroke-width: 0; fill: rgb(239, 85, 59); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path></g></g></g><rect class="legendtoggle" pointer-events="all" x="0" y="-9.5" width="91.25000381469727" height="19" style="cursor: pointer; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect></g><g class="traces" transform="translate(0, 52.5)" style="opacity: 1;"><text class="legendtext user-select-none" text-anchor="start" x="40" y="4.680000000000001" data-unformatted="HVAC_1" data-math="N" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">HVAC_1</text><g class="layers" style="opacity: 1;"><g class="legendfill"></g><g class="legendlines"></g><g class="legendsymbols"><g class="legendpoints"><path class="legendpie" d="M6,6H-6V-6H6Z" transform="translate(20,0)" style="stroke-width: 0; fill: rgb(0, 204, 150); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path></g></g></g><rect class="legendtoggle" pointer-events="all" x="0" y="-9.5" width="91.25000381469727" height="19" style="cursor: pointer; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect></g><g class="traces" transform="translate(0, 71.5)" style="opacity: 1;"><text class="legendtext user-select-none" text-anchor="start" x="40" y="4.680000000000001" data-unformatted="HVAC_2" data-math="N" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">HVAC_2</text><g class="layers" style="opacity: 1;"><g class="legendfill"></g><g class="legendlines"></g><g class="legendsymbols"><g class="legendpoints"><path class="legendpie" d="M6,6H-6V-6H6Z" transform="translate(20,0)" style="stroke-width: 0; fill: rgb(171, 99, 250); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path></g></g></g><rect class="legendtoggle" pointer-events="all" x="0" y="-9.5" width="91.25000381469727" height="19" style="cursor: pointer; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect></g><g class="traces" transform="translate(0, 90.5)" style="opacity: 1;"><text class="legendtext user-select-none" text-anchor="start" x="40" y="4.680000000000001" data-unformatted="HVAC_4" data-math="N" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">HVAC_4</text><g class="layers" style="opacity: 1;"><g class="legendfill"></g><g class="legendlines"></g><g class="legendsymbols"><g class="legendpoints"><path class="legendpie" d="M6,6H-6V-6H6Z" transform="translate(20,0)" style="stroke-width: 0; fill: rgb(255, 161, 90); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path></g></g></g><rect class="legendtoggle" pointer-events="all" x="0" y="-9.5" width="91.25000381469727" height="19" style="cursor: pointer; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect></g><g class="traces" transform="translate(0, 109.5)" style="opacity: 1;"><text class="legendtext user-select-none" text-anchor="start" x="40" y="4.680000000000001" data-unformatted="Rack" data-math="N" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 12px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">Rack</text><g class="layers" style="opacity: 1;"><g class="legendfill"></g><g class="legendlines"></g><g class="legendsymbols"><g class="legendpoints"><path class="legendpie" d="M6,6H-6V-6H6Z" transform="translate(20,0)" style="stroke-width: 0; fill: rgb(25, 211, 243); fill-opacity: 1; stroke: rgb(68, 68, 68); stroke-opacity: 1;"></path></g></g></g><rect class="legendtoggle" pointer-events="all" x="0" y="-9.5" width="91.25000381469727" height="19" style="cursor: pointer; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect></g></g></g><rect class="scrollbar" rx="20" ry="3" width="0" height="0" style="fill: rgb(128, 139, 164); fill-opacity: 1;" x="0" y="0"></rect></g><g class="g-gtitle"></g><g class="annotation" data-index="0" style="opacity: 1;"><g class="annotation-text-g" transform="rotate(0,240.37,235)"><g class="cursor-pointer" transform="translate(226, 220)"><rect class="bg" x="0.5" y="0.5" width="27" height="30" style="stroke-width: 1px; stroke: rgb(0, 0, 0); stroke-opacity: 0; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect><text class="annotation-text" text-anchor="middle" data-unformatted="%" data-math="N" x="13.84375" y="24.234375" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 22px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">%</text></g></g></g><g class="annotation" data-index="1" style="opacity: 1;"><g class="annotation-text-g" transform="rotate(0,618.07,235)"><g class="cursor-pointer" transform="translate(592, 220)"><rect class="bg" x="0.5" y="0.5" width="52" height="30" style="stroke-width: 1px; stroke: rgb(0, 0, 0); stroke-opacity: 0; fill: rgb(0, 0, 0); fill-opacity: 0;"></rect><text class="annotation-text" text-anchor="middle" data-unformatted="kWh" data-math="N" x="26.34375" y="24.234375" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 22px; fill: rgb(42, 63, 95); fill-opacity: 1; white-space: pre;">kWh</text></g></g></g></g><g class="menulayer"></g><g class="zoomlayer"></g></svg><div class="modebar-container" style="position: absolute; top: 0px; right: 0px; width: 100%;"><div id="modebar-e59815" class="modebar modebar--hover ease-bg"><div class="modebar-group"><a rel="tooltip" class="modebar-btn" data-title="Download plot as a png" data-toggle="false" data-gravity="n"><svg viewBox="0 0 1000 1000" class="icon" height="1em" width="1em"><path d="m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z" transform="matrix(1 0 0 -1 0 850)"></path></svg></a></div><div class="modebar-group"><a rel="tooltip" class="modebar-btn active" data-title="Toggle show closest data on hover" data-attr="hovermode" data-val="closest" data-toggle="false" data-gravity="ne"><svg viewBox="0 0 1500 1000" class="icon" height="1em" width="1em"><path d="m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z" transform="matrix(1 0 0 -1 0 850)"></path></svg></a></div><div class="modebar-group"><a href="https://plotly.com/" target="_blank" data-title="Produced with Plotly" class="modebar-btn plotlyjsicon modebar-btn--logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 132" height="1em" width="1em"><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id="symbol"><rect class="cls-1" width="132" height="132" rx="6" ry="6"></rect><circle class="cls-2" cx="78" cy="54" r="6"></circle><circle class="cls-2" cx="102" cy="30" r="6"></circle><circle class="cls-2" cx="78" cy="30" r="6"></circle><circle class="cls-2" cx="54" cy="30" r="6"></circle><circle class="cls-2" cx="30" cy="30" r="6"></circle><circle class="cls-2" cx="30" cy="54" r="6"></circle><path class="cls-3" d="M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z"></path><path class="cls-3" d="M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z"></path><path class="cls-3" d="M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z"></path><path class="cls-3" d="M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z"></path></g></svg></a></div></div></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="900" height="450"><g class="hoverlayer"></g></svg></div>

